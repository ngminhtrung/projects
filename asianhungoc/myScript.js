const menuData = [

{
	dishId: "v1",
	dishCat: "pho-bun",
	dishName: "Phở Bò",
	dishPrice: "7,50 €",
	dishIngredient: "Phở tươi, thịt bò Kô-bê, nước xương bò, các loại gia vị và rau sống.",
	dishPhotoDir: "photos/menu/menu-pho-v1.png"
},
{
	dishId: "v2",
	dishCat: "pho-bun",
	dishName: "Phở Gà",
	dishPrice: "7,00 €",
	dishIngredient: "Phở tươi, thịt gà đồi chạy bộ, nước xương gà, các loại gia vị và rau sống",
	dishPhotoDir: "photos/menu/menu-pho-v2.png"
},
{
	dishId: "v3",
	dishCat: "pho-bun",
	dishName: "Gỏi cuốn",
	dishPrice: "3,90 €",
	dishIngredient: "Bánh đa, tôm tươi luộc bóc vỏ, hẹ, cà rốt thái mỏng, dứa thái mỏng, chuối non thái mỏng, nước chấm",
	dishPhotoDir: "photos/menu/menu-bun-v3.png"
},
{
	dishId: "v4",
	dishCat: "pho-bun",
	dishName: "Bún Thịt Nướng",
	dishPrice: "7,90 €",
	dishIngredient: "Bún tươi, thịt miếng nướng than hoa, nước chấm bún thịt nướng, rau sống",
	dishPhotoDir: "photos/menu/menu-bun-v4.png"
},

{
	dishId: "v5",
	dishCat: "pho-bun",
	dishName: "Bún Chả Nướng",
	dishPrice: "7,90 €",
	dishIngredient: "Bún tươi, thịt băm nướng than hoa, nước chấm bún thịt nướng, rau sống ",
	dishPhotoDir: "photos/menu/menu-bun-v5.png"
},

{
	dishId: "v6",
	dishCat: "pho-bun",
	dishName: "Bún Nem",
	dishPrice: "7,90 €",
	dishIngredient: "Bún tươi, nem rán nhân thịt (lợn) băm, nấm tươi, xu hào, hành tây, cà rốt băm cnhỏ, nước chấm nem, rau sống",
	dishPhotoDir: "photos/menu/menu-bun-v6.png"
},

{
	dishId: "v7",
	dishCat: "pho-bun",
	dishName: "Bún Ba Loại Thịt",
	dishPrice: "9,90 €",
	dishIngredient: "Bún tươi, thịt cừu và thịt lợn nướng, tôm nướng, nước chấm, rau sống.",
	dishPhotoDir: "photos/menu/menu-bun-v7.png"
},

{
	dishId: "v8",
	dishCat: "pho-bun",
	dishName: "Bún bò xào xả ớt",
	dishPrice: "8,50 €",
	dishIngredient: "Bún tươi, thịt bò xào, lạc rang giã nhỏ, rau sống, nước trộn bún.",
	dishPhotoDir: "photos/menu/menu-bun-v8.png"
},

{
	dishId: "v9",
	dishName: "Chè thập cẩm Như Ngọc đặc biệt",
	dishCat: "drink",
	dishPrice: "3,00 €",
	dishIngredient: "",
	dishPhotoDir: "photos/menu/menu-che.png"
},

{
	dishId: "v10",
	dishCat: "drink",
	dishName: "drink",
	dishPrice: "€",
	dishIngredient: "",
	dishPhotoDir: "photos/menu/menu-che.png"
},
{
	dishId: "v11",
	dishCat: "drink",
	dishName: "drink",
	dishPrice: "€",
	dishIngredient: "",
	dishPhotoDir: "photos/menu/menu-che.png"
},
{
	dishId: "a1",
	dishCat: "com",
	dishName: "Cơm Chay Gà Xào Rau Củ Quả",
	dishPrice: "6,60 €",
	dishIngredient: "Cơm trắng Hải Hậu, gà xào dứa - cà chua - cà rốt, rau thơm, nước sốt.",
	dishPhotoDir: "photos/menu/menu-com-a1.png"
},
{
	dishId: "a2",
	dishCat: "com",
	dishName: "Cơm Gà Bao Bột",
	dishPrice: "6,80 €",
	dishIngredient: "Cơm trắng Hải Hậu, đùi gà bao bột chiên, rau sống, nước sốt.",
	dishPhotoDir: "photos/menu/menu-com-a2.png"
},
{
	dishId: "a3",
	dishCat: "com",
	dishName: "Cơm Gà Da Chiên Giòn",
	dishPrice: "6,80 €",
	dishIngredient: "Cơm trắng Hải Hậu, đùi gà và cánh gà chiên giòn, rau sống, nước sốt.",
	dishPhotoDir: "photos/menu/menu-com-a3.png"
},
{
	dishId: "a4",
	dishCat: "com",
	dishName: "Cơm Vịt Da Chiên Giòn",
	dishPrice: "7,50 €",
	dishIngredient: "Cơm trắng Hải Hậu, vịt miếng chiên giòn, rau sống, nướng sốt. ",
	dishPhotoDir: "photos/menu/menu-com-a4.png"
},
{
	dishId: "a5",
	dishCat: "com",
	dishName: "Cơm Xào Thịt Bò",
	dishPrice: "7,20 €",
	dishIngredient: "Cơm trắng Hải Hậu, thịt bò xào với rau cải, rau súp lơ và dứa, rau sống.",
	dishPhotoDir: "photos/menu/menu-com-a5.png"
},
{
	dishId: "a6",
	dishCat: "com",
	dishName: "Cơm chay rau củ quả",
	dishPrice: "5,50 €",
	dishIngredient: "Cơm trắng Hải Hậu, rau củ quả xào.",
	dishPhotoDir: "photos/menu/menu-com-a6.png"
},
{
	dishId: "b1",
	dishCat: "take-away",
	dishName: "Hộp mì xào thịt bò và ớt chuông",
	dishPrice: "3,00 €",
	dishIngredient: "Mì trứng, thịt bò, ớt chuông, hành tươi, hành tây.",
	dishPhotoDir: "photos/menu/menu-box-1.png"
},
{
	dishId: "b2",
	dishCat: "take-away",
	dishName: "Mì xào với rau ăn kèm nem Loempia",
	dishPrice: "3,50 €",
	dishIngredient: "Mì trứng, giá, nem Loempia.",
	dishPhotoDir: "photos/menu/menu-box-2.png"
},
{
	dishId: "b3",
	dishCat: "take-away",
	dishName: "Mì xào tôm",
	dishPrice: "3,80 €",
	dishIngredient: "Mì trứng, cà rốt, giá, tôm và trứng gà.",
	dishPhotoDir: "photos/menu/menu-box-3.png"
},
{
	dishId: "b4",
	dishCat: "take-away",
	dishName: "Mì xào thịt gà",
	dishPrice: "4,50 €",
	dishIngredient: "Mì trứng, cà rốt, giá, thịt gà bao bột chiên giòn.",
	dishPhotoDir: "photos/menu/menu-box-4.png"
},
];

var menuDataLen = menuData.length;


function searchDishViaId(dishID) {

	var currentDish = {id: "", cat: "", name: "",  price: "", ingredient: "", photoDir: "" };

	var menuDataLen = menuData.length;

	for (var i=0; i< menuDataLen; i++) {
		if (menuData[i].dishId === dishID) {

			currentDish.id = menuData[i].dishId;
			currentDish.name = menuData[i].dishName;
			currentDish.price = menuData[i].dishPrice;
			currentDish.cat = menuData[i].dishCat;
			currentDish.ingredient = menuData[i].dishIngredient;
			currentDish.photoDir = menuData[i].dishPhotoDir;

			localStorage.setItem('currentDish',JSON.stringify(currentDish));
			// console.log(localStorage.getItem('d'));
		}
	}
}

function menuDataLoad() {


	for (var i = 0; i < menuDataLen; i++) {

		dishDiv = document.createElement('div');

		// linkDiv = document.createElement('a');
		// linkDiv.href = 'detail.html';
		
		// dishDiv.appendChild(linkDiv); // linkDiv inside dishDiv

		nameDiv = document.createElement('H4');
		priceDiv = document.createElement('P');
		imgDiv = document.createElement('img')
		nameText = document.createTextNode(menuData[i].dishName);  
		priceText = document.createTextNode(menuData[i].dishPrice);
		
		dishDiv.className = 'col-sm-4 col-sm-12';
		imgDiv.className = 'img-responsive';
		imgDiv.src = menuData[i].dishPhotoDir;
		priceDiv.appendChild(priceText); 
		nameDiv.appendChild(nameText);

		dishDiv.appendChild(imgDiv); // imgDiv inside linkDiv
		dishDiv.appendChild(nameDiv); // nameDiv inside linkDiv
		dishDiv.appendChild(priceDiv); // priceDiv inside linkDiv
		
		document.getElementsByClassName(menuData[i].dishCat)[0].appendChild(dishDiv);

		dishDiv.setAttribute('onclick', 'openDetailPage("' + menuData[i].dishId + '")');

	}
}

function openDetailPage(dishId) {
	console.log(dishId);
	searchDishViaId(dishId);
	// console.log(currentDish);
	location.href = "detail.html"; 

}

function setDetailData() {

	currentDishString = localStorage.getItem('currentDish');
	currentDish = JSON.parse(currentDishString);

	var menuDetail = document.getElementById("detail");

	p = document.createElement('p');
	img = document.createElement('img');
	img.src = currentDish.photoDir;
	img.className = 'img';
	p.appendChild(img);

	menuDetail.appendChild(p);

	nameDetail = document.createElement('H1');
	nameText = document.createTextNode(currentDish.name.toUpperCase());  
	nameDetail.appendChild(nameText);

	menuDetail.appendChild(nameDetail);
	
	priceDetail = document.createElement('H2');
	priceText = document.createTextNode(currentDish.price);
	priceDetail.appendChild(priceText);

	menuDetail.appendChild(priceDetail);
	

	ingredientDetail = document.createElement('H2');
	ingreText = document.createTextNode(currentDish.ingredient);
	ingredientDetail.appendChild(ingreText);

	menuDetail.appendChild(ingredientDetail);

}


